---
phase: 02-frontend-scaffold-configuration-react
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [
  "frontend/package.json",
  "frontend/tailwind.config.js",
  "frontend/src/index.css",
  "frontend/src/main.tsx",
  "frontend/src/store/wizardStore.ts",
  "frontend/src/layouts/MainLayout.tsx",
  "frontend/src/components/Header.tsx",
  "frontend/src/components/Sidebar.tsx",
  "frontend/src/components/Footer.tsx"
]
autonomous: true
requirements: [FRONTEND-01, FRONTEND-02]
user_setup: []

must_haves:
  truths:
    - "Vite dev server starts without errors"
    - "Tailwind 'Parchment' theme is applied with Crimson Text font"
    - "Wizard state (step, reset) persists across page reloads"
    - "Sidebar shows current step and Header is visible"
  artifacts:
    - path: "frontend/tailwind.config.js"
      provides: "Custom parchment colors and serif font config"
    - path: "frontend/src/store/wizardStore.ts"
      provides: "Zustand store with step management and persistence"
    - path: "frontend/src/layouts/MainLayout.tsx"
      provides: "Global layout shell for the wizard"
  key_links:
    - from: "frontend/src/main.tsx"
      to: "frontend/src/index.css"
      via: "import"
    - from: "frontend/src/layouts/MainLayout.tsx"
      to: "frontend/src/store/wizardStore.ts"
      via: "useWizardStore hook"
---

<objective>
Initialize the React/TS/Tailwind frontend project and build the foundational shell with the "Museum-Ready" Parchment aesthetic and global wizard state management.

Purpose: Establish the technical foundation and visual identity for the user interface.
Output: Working Vite/React app with custom theme, shell layout, and persistent global state.
</objective>

<execution_context>
@/Users/martinhess/.gemini/get-shit-done/workflows/execute-plan.md
@/Users/martinhess/.gemini/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-frontend-scaffold-configuration-react/2-RESEARCH.md
@.planning/2-CONTEXT.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Initialize Vite Project and Parchment Theme</name>
  <files>frontend/package.json, frontend/tailwind.config.js, frontend/src/index.css</files>
  <action>
    - Scaffold a new Vite project in the `frontend/` directory using the `react-ts` template.
    - Install dependencies: `tailwindcss postcss autoprefixer zustand @tanstack/react-query react-dropzone lucide-react sonner axios`.
    - Configure `tailwind.config.js` with the 'parchment' and 'archive' color palettes and 'Crimson Text' serif font as researched.
    - Set up `src/index.css` with the base Tailwind directives and apply the 'parchment-light' background to the body.
    - Add a sample textured background utility or overlay in Tailwind.
  </action>
  <verify>Run `npm run dev` in `frontend/` and verify the page loads with the serif font and parchment background.</verify>
  <done>Frontend project is initialized with custom Tailwind theme and required dependencies installed.</done>
</task>

<task type="auto">
  <name>Task 2: Implement Persistent Wizard State</name>
  <files>frontend/src/store/wizardStore.ts</files>
  <action>
    - Create a Zustand store to manage the wizard step (`upload`, `configure`, `processing`, `results`).
    - Use Zustand's `persist` middleware to save the state to `localStorage` (ensuring session persistence as per research).
    - Add actions: `setStep`, `resetWizard`.
    - Include placeholder state for `files` (UploadedFile[]) and `fields` (MetadataField[]) to be populated in later plans.
  </action>
  <verify>Verify that changing the step in the store and refreshing the page keeps the updated step in localStorage.</verify>
  <done>Global state management is active with persistence and navigation actions.</done>
</task>

<task type="auto">
  <name>Task 3: Build Museum-Ready Layout Shell</name>
  <files>frontend/src/layouts/MainLayout.tsx, frontend/src/components/Header.tsx, frontend/src/components/Sidebar.tsx, frontend/src/components/Footer.tsx</files>
  <action>
    - Implement `MainLayout` with a Sidebar (left), Header (top), Main Content area, and Footer (bottom).
    - **Header:** Display project title ("Indexcards OCR") and the "Start Fresh" (Global Reset) button.
    - **Sidebar:** Show a vertical progress tracker for the steps (Upload -> Configure -> Processing -> Results). Use 'archive-ink' for text and 'archive-sepia' for active states.
    - **Footer:** Display placeholder live stats ("0 Files | 0 MB | 0 Fields").
    - **Global Reset:** Clicking "Start Fresh" should call `resetWizard` from the store and navigate back to the `upload` step.
  </action>
  <verify>Visually inspect the layout: Sidebar on left, Header on top, Footer on bottom. Clicking 'Start Fresh' resets the store.</verify>
  <done>Layout shell is complete with Sidebar, Header, and persistent Footer stats.</done>
</task>

</tasks>

<verification>
- Check `frontend/tailwind.config.js` for custom theme colors.
- Check `frontend/src/store/wizardStore.ts` for persistence config.
- Run `npm run dev` and navigate to the local URL to see the parchment-themed layout.
</verification>

<success_criteria>
- Frontend project starts and displays the themed layout.
- Wizard state persists across page refreshes.
- Global reset button is functional.
</success_criteria>

<output>
After completion, create `.planning/phases/02-frontend-scaffold-configuration-react/02-01-SUMMARY.md`
</output>
