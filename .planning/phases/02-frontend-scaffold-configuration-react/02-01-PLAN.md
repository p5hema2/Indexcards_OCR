---
phase: 02-frontend-scaffold-configuration-react
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - frontend/package.json
  - frontend/tailwind.config.js
  - frontend/src/index.css
  - frontend/src/main.tsx
  - frontend/src/store/wizardStore.ts
  - frontend/src/layouts/MainLayout.tsx
  - frontend/src/components/Header.tsx
  - frontend/src/components/Sidebar.tsx
  - frontend/src/components/Footer.tsx
autonomous: true
requirements:
  - FRONTEND-01
  - FRONTEND-02
user_setup: []

must_haves:
  truths:
    - "Vite dev server starts and renders the React application"
    - "The 'Parchment' theme (light yellow/cream background, serif fonts) is visible"
    - "The wizard step (e.g., 'upload') is stored in Zustand and persists after a page refresh"
    - "A 'Start Fresh' button exists and resets the global wizard state"
  artifacts:
    - path: "frontend/tailwind.config.js"
      provides: "Custom parchment/archive color palette and Crimson Text font configuration"
    - path: "frontend/src/store/wizardStore.ts"
      provides: "Persistent Zustand store for managing workflow steps and data"
    - path: "frontend/src/layouts/MainLayout.tsx"
      provides: "Responsive grid layout with Sidebar, Header, and Footer"
  key_links:
    - from: "frontend/src/layouts/MainLayout.tsx"
      to: "frontend/src/store/wizardStore.ts"
      via: "useWizardStore hook for step-based rendering"
    - from: "frontend/src/main.tsx"
      to: "frontend/src/index.css"
      via: "Global CSS import for Tailwind styles"
---

<objective>
Initialize the React/TypeScript/Tailwind frontend using Vite and build the foundational "Museum-Ready" layout shell with persistent wizard state management.

Purpose: Establish the technical stack and visual identity (Parchment theme) for the index card extraction tool.
Output: A working frontend scaffold with a themed layout, sidebar navigation, and persistent global state.
</objective>

<execution_context>
@/Users/martinhess/.gemini/get-shit-done/workflows/execute-plan.md
@/Users/martinhess/.gemini/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-frontend-scaffold-configuration-react/2-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Scaffold Vite Project and Configure Theme</name>
  <files>
    - frontend/package.json
    - frontend/tailwind.config.js
    - frontend/src/index.css
  </files>
  <action>
    - Initialize a new Vite project in the `frontend/` directory: `npm create vite@latest . -- --template react-ts`.
    - Install core dependencies: `tailwindcss postcss autoprefixer zustand @tanstack/react-query react-dropzone lucide-react sonner axios`.
    - Initialize Tailwind: `npx tailwindcss init -p`.
    - Configure `tailwind.config.js` with the 'Parchment' color palette (e.g., #FDFCF0, #F5F2E0) and 'Crimson Text' (serif) / 'IBM Plex Mono' (mono) font families as specified in RESEARCH.md.
    - Set up `src/index.css` to import Tailwind and apply the parchment background to the body.
  </action>
  <verify>Run `npm run dev` and verify the background color and default font change to serif.</verify>
  <done>Frontend project is initialized with custom Tailwind theme and essential libraries installed.</done>
</task>

<task type="auto">
  <name>Task 2: Implement Persistent Wizard Store</name>
  <files>
    - frontend/src/store/wizardStore.ts
  </files>
  <action>
    - Create a Zustand store named `useWizardStore`.
    - Define `WizardStep` type: `upload | configure | processing | results`.
    - Implement state for `step`, `files` (array), `fields` (array), and `sessionId` (string | null).
    - Use Zustand's `persist` middleware to save the state to `localStorage`.
    - Add actions: `setStep(step)`, `resetWizard()` (sets to default), and `updateFiles(files)`.
  </action>
  <verify>Manually change the step in the store via a temporary button, refresh the page, and confirm the step remains the same.</verify>
  <done>Global state management is active with persistence across browser reloads.</done>
</task>

<task type="auto">
  <name>Task 3: Build Museum Layout Shell</name>
  <files>
    - frontend/src/layouts/MainLayout.tsx
    - frontend/src/components/Header.tsx
    - frontend/src/components/Sidebar.tsx
    - frontend/src/components/Footer.tsx
  </files>
  <action>
    - **Header:** Display "Indexcards OCR" and a "Start Fresh" button that calls `resetWizard()`.
    - **Sidebar:** Implement a vertical list of steps (Upload, Configure, Processing, Results). Highlight the active step based on `wizardStore.step`. Use archive-ink colors.
    - **Footer:** Add a persistent bar showing "0 Files | 0 MB | 0 Fields" as placeholders.
    - **MainLayout:** Use a grid layout to position components. The main content area should render the active step component.
  </action>
  <verify>Visually confirm the Header, Sidebar, and Footer are present. Clicking 'Start Fresh' should revert the step to 'upload'.</verify>
  <done>The visual layout shell is complete and responsive to global state changes.</done>
</task>

</tasks>

<verification>
- Verify `frontend/` folder structure matches RESEARCH.md recommendations.
- Verify Tailwind theme colors are applied by inspecting the background in the browser.
- Verify `localStorage` contains `wizard-storage` key after the app runs.
</verification>

<success_criteria>
- Project starts without errors.
- Visual theme matches the "Museum-Ready" aesthetic (serif fonts, cream colors).
- Sidebar correctly tracks the active step from the store.
- Global reset functionality works as expected.
</success_criteria>

<output>
After completion, create `.planning/phases/02-frontend-scaffold-configuration-react/02-01-SUMMARY.md`
</output>
